<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kanban Dashboard</title>
  <link rel="stylesheet" href="css/main.css" />
  <style>
    /* Kanban-specific layout */
    .kanban {
      display: flex;
      gap: 1.5rem;
      padding: 2rem;
      height: 100%;
    }
    .kanban-column {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: var(--surface);
      border: 1px solid color-mix(in oklab, var(--muted) 35%, transparent);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow-y: auto;
      padding: 1rem;
    }
    .kanban-column h2 {
      font-size: 1.1rem;
      margin-bottom: 1rem;
    }
    .kanban-task {
      border-radius: var(--r);
      padding: .75rem;
      margin-bottom: 1rem;
      cursor: grab;
      transition: background 0.2s ease, transform 0.1s ease;
      border: 1px solid transparent;
    }
    .kanban-task:hover {
      transform: scale(1.02);
    }

    /* ===== Color Themes for Columns ===== */
    .col-planning h2 { color: #a855f7; }   /* purple */
    .col-planning .kanban-task {
      background: color-mix(in oklab, #a855f7 20%, var(--surface));
      border-color: color-mix(in oklab, #a855f7 40%, transparent);
    }
    .col-planning .kanban-task:hover {
      background: color-mix(in oklab, #a855f7 35%, var(--surface));
    }

    .col-todo h2 { color: #facc15; }       /* yellow */
    .col-todo .kanban-task {
      background: color-mix(in oklab, #facc15 20%, var(--surface));
      border-color: color-mix(in oklab, #facc15 40%, transparent);
    }
    .col-todo .kanban-task:hover {
      background: color-mix(in oklab, #facc15 35%, var(--surface));
    }

    .col-progress h2 { color: #3b82f6; }   /* blue */
    .col-progress .kanban-task {
      background: color-mix(in oklab, #3b82f6 20%, var(--surface));
      border-color: color-mix(in oklab, #3b82f6 40%, transparent);
    }
    .col-progress .kanban-task:hover {
      background: color-mix(in oklab, #3b82f6 35%, var(--surface));
    }

    .col-review h2 { color: #eab308; }     /* amber */
    .col-review .kanban-task {
      background: color-mix(in oklab, #eab308 20%, var(--surface));
      border-color: color-mix(in oklab, #eab308 40%, transparent);
    }
    .col-review .kanban-task:hover {
      background: color-mix(in oklab, #eab308 35%, var(--surface));
    }

    .col-done h2 { color: #22c55e; }       /* green */
    .col-done .kanban-task {
      background: color-mix(in oklab, #22c55e 20%, var(--surface));
      border-color: color-mix(in oklab, #22c55e 40%, transparent);
    }
    .col-done .kanban-task:hover {
      background: color-mix(in oklab, #22c55e 35%, var(--surface));
    }
  </style>
</head>

<script>
  // Apply saved theme (default = dark)
  const savedTheme = localStorage.getItem("theme") || "dark";
  document.documentElement.setAttribute("data-theme", savedTheme);
</script>

<body>

  <nav class="nav" style="display:flex; justify-content:space-between; align-items:center;">
    <h1>Kanban Dashboard</h1>
    <button class="btn btn-primary">+ New Task</button>
  </nav>

  <section class="kanban">
    <!-- Planning -->
    <div class="kanban-column col-planning">
      <h2>Planning</h2>
      <div class="kanban-task">Research dark mode accessibility</div>
      <div class="kanban-task">Outline login page features</div>
      <div class="kanban-task">Collect UI inspiration</div>
    </div>

    <!-- To Do -->
    <div class="kanban-column col-todo">
      <h2>To Do</h2>
      <div class="kanban-task">Design login page UI</div>
      <div class="kanban-task">Create Kanban HTML structure</div>
      <div class="kanban-task">Setup dark mode CSS</div>
    </div>

    <!-- In Progress -->
    <div class="kanban-column col-progress">
      <h2>In Progress</h2>
      <div class="kanban-task">Integrate drag-and-drop</div>
      <div class="kanban-task">Style dashboard with CSS variables</div>
    </div>

    <!-- Review -->
    <div class="kanban-column col-review">
      <h2>Review</h2>
      <div class="kanban-task">QA testing</div>
      <div class="kanban-task">Code review for login page</div>
    </div>

    <!-- Done -->
    <div class="kanban-column col-done">
      <h2>Done</h2>
      <div class="kanban-task">Define project folder structure</div>
      <div class="kanban-task">Install Tailwind for future features</div>
    </div>
  </section>


  <script type="module">
  import { protectPage, getUserName } from "./js/firebase/authGuard.js";

  // Protect the page automatically
  protectPage();

  // Fill username in page
  getUserName("username");
</script>


</body>
</html>
